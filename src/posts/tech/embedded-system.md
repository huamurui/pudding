---
icon: edit
date: 2025-11-20
title: 嵌入式
---

## 嵌入式系统

大学里计算机组成原理这门课感觉和没上过一样，而电子电路基础是确实没上。  
但，突然，确实想要看一看这些芯片和电路板，哪怕点个流水灯什么的x。  

### 芯片能力 与 运行环境

MCU 微控制器 - 主频 < 200MHz
  - RAM 几KB到几十KB; Flash：几十KB到几百KB。存储程序代码。
  - 外设：基础的GPIO、UART、I2C、SPI、ADC。
  - 应用场景：遥控器、电动玩具、智能卡、直流电机控制、LED灯控。
  - STM32F0 esp32-c3

MPU 微处理器 - 主频 < 500MHz
  - RAM：64KB 到 512KB，足以运行FreeRTOS和多个任务栈、网络协议栈；Flash：512KB 到 2MB。可以存储复杂的应用程序和文件系统。
  - 外设：更丰富的串口、CAN总线、USB、以太网MAC、加密加速器。
  - 应用场景：智能家居设备（插座、传感器）、可穿戴设备、工业PLC、无人机飞控、复杂的电机驱动（FOC）。
  - STM32F4 ESP32-S3

不那么微的处理器 - 500MHz 到 1.5GHz+ 到这里和普通手机电脑性能差距可能都不算大了。
 - RAM：512KB 到 1GB+。通常需要外接DDR内存。
 - Flash：内部Flash可能不大，但支持外部eMMC、SD卡，存储空间以GB计。
 - 外设：支持LCD显示器、摄像头、千兆以太网、高速USB等。
 - 应用场景：智能家居中控屏、工业 HMI、网络网关、广告机、视频播放器。
 - 树莓派

更强大的，自动驾驶、机器人、高端医疗影像、5G基站。... 感觉和个人没什么关系了。


芯片另一个重要特征也许是，指令集，架构
arm/risc-v/pfga...

#### 裸机, RTOS, TSOS(Linux/Android...)

现在手机电脑上的系统，都属于分时操作系统。这个名字描述的特征是，使用时间片轮转之类的方式允许多个，很多很多个程序同时保持运行，进行任务调度的目标是高平均吞吐量和公平性。  
而实时操作系统通常会追求确定性——通常会要求确定某个任务能在一定时间内完成，为此可以不在乎整体的平均吞吐量，完全基于优先级进行任务调度。

rtos 相对 linux 这种操作系统功能更加专一，会用在一些要求严格的关键任务控制上。  
而 linux 这种操作系统会被用来做功能更多，更复杂，但没有硬性响应要求的东西上。比如带操作界面的东西，比如手机电脑。  

而裸机，它通常运行在很简单的芯片，很简单的电路板上，处理很简单的事情。它可以有着更快的响应速度，更简单可控更稳定的行为，更少的能耗，当然还更便宜。
而相对而言，使用 rtos 其实意味着，这个东西还是需要处理多任务情况的。

### esp32

esp32 是一个芯片系列，似乎有时候也可以是系列的系列名。  
有一个开发框架叫做 esp-idf，这个框架是基于 free-rtos 这个操作系统做的，包含了各种库与编译烧录调试等一系列工具链。

- 环境搭建
- esp-idf 与 free-rtos
- 硬件与外设
- 物联网，wifi，tcp/ip/http

#### esp32-c3

esp32-c3 是另一个芯片系列，或型号
- risc-v 32 位 soc, 160Mhz
- 4 MB flash
- wifi(802.11/b/g/n(wifi1,3,4)), bluetooth 5

> OoO 好可爱，它其实是 Out-of-Order, 乱序执行的缩写，指 cpu 通过分析指令，对于一些无相关性无依赖的指令并发乱序执行加快指令处理。

